<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title>【基于OSS的上传文件页面】</title>
    <script type="text/javascript" src="../static/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="../static/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../static/bootstrap/css/bootstrap.min.css"  media="all">



    <style type="text/css">
        *{
            margin:0;
            padding:0;
        }
        #group{
            position: absolute;
            left:580px;
        }
        #submit{
            position: absolute;
            top:140px;
            left:580px;
        }
    </style>
</head>
<body>
<div align="center">
    <h2 style="color:orangered;">基于OSS的上传文件页面</h2>
</div>
<br/>
<form id="fileForm" action="/uploadFile" enctype="multipart/form-data" method="post">
    <div class="form-group" id="group">
        <label for="exampleInputFile">File input</label>
        <input type="file" id="exampleInputFile" name="file">
    </div>
    <button type="submit"  class="btn btn-default" id="submit">上传</button>
</form>

<!--上传进度条弹窗-->
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">文件名称</h4>
            </div>
            <div class="row">
                <div class="col-md-8"><div class="modal-body">
                    <div class="progress">
                        <div id="progress" class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                            <span class="sr-only">0%</span>
                        </div>
                    </div>
                </div></div>
                <div class="col-md-4">
                    <div class="center-block" style="margin-top: 15px">
                        <div class="row">
                            <div class="col-md-6">650MB</div>
                            <div class="col-md-6">
                                <div class="row">
                                    <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                                    <span class="glyphicon glyphicon-remove" style="margin-left: 15px" aria-hidden="true"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<!--<script type="text/javascript">
    $(function () {
        $("#btn").on("click",function () {
            var xhr=new XMLHttpRequest();
            xhr.upload.addEventListener("progress",uploadProgress,false);
            xhr.addEventListener("load",uploadComplete,false);
            xhr.addEventListener("error",uploadFailed,false);
            xhr.addEventListener("abort",uploadCanceled,false);
            xhr.open("POST","uploadFile");
            xhr.send(new FormData($("#fileForm")[0]));
        });
    });
    function uploadProgress(evt) {
        if(evt.lengthComputable){
            var percentComplete=Math.round(evt.loaded*100/evt.total);
            var progress=$("#progress");
            progress.css("width",percentComplete+"%");
            progress.html(percentComplete+"%");
        }else {
            $("#progress").html("无法计算");
        }
    }
    function uploadComplete(evt) {
        /*当服务器响应后，这个事件就会被触发*/
        alert("上传成功："+evt.target.responseText);
    }
    function uploadFailed(evt) {
        alert("上传失败："+"这个文件发生了错误");
    }
    function uploadCanceled(evt) {
        alert("上传取消："+"上传被用户取消或者浏览器断开连接");
    }
</script>-->
</html>
